#summary การคอมไพล์ภาษาแอสเซมบลี้เบื้องต้น

ขั้นตอนง่าย ๆ ในการคอมไพล์โปรแกรมภาษาแอสเซมบลี้ใน Linux (ubuntu 10.04) ด้วยโปรแกรมแอสเซมเบลอร์ as ประกอบด้วยขั้นตอนหลัก คือ 

1) เขียนโปรแกรม hello.s ตามตัวอย่างข้างล่างขึ้นมาด้วยการใช้เอดิเตอร์ เช่น vi หรือ nano โดยเรียกคำสั่ง {{{ nano hello.s }}} จากนั้นให้บันทึกไฟล์แล้วออกจากเอดิเตอร์
{{{
.text
                           .global _start _start:

        movl $len,%edx # third argument: message length
        movl $msg,%ecx # second argument: pointer to message to write
        movl $1,%ebx # first argument: file handle (stdout)
        movl $4,%eax # system call number (sys_write)
        int $0x80 # call kernel

# and exit

        movl $0,%ebx # first argument: exit code
        movl $1,%eax # system call number (sys_exit)
        int $0x80 # call kernel

.data # section declaration

msg:
        .ascii "Hello, world!\n" # our dear string
        len = . - msg # length of our dear string
}}}


2) คอมไพล์ไฟล์โปรแกรม (hello.s) ด้วยแอสเซมเบลอร์ as ซึ่งจะให้ผลลัพธ์เป็นอ็อบเจ็คไฟล์ .o 
{{{
$ as hello.s -o hello.o
}}}

3) ลิงค์อ็อบเจ็คโค้ด (hello.o) เข้ากับไลบรารี่ด้วยโปรแกรม ld และให้สร้างไบนารี่ไฟล์ที่รันได้ (executable file) ชื่อว่า hello.out
{{{
$ ld -o hello.out hello.o 
}}}

4) เอาพุทที่ได้จากการลิงค์ชื่อไฟล์ hello.out สามารถรันได้จากคำสั่งในเชลล์ ขึ้นต้นด้วย ./ (เพื่อบอกว่าโปรแกรมนี้อยู่ในไดเร็กทอรี่ที่เราทำงานในปัจจุบัน เนื่องจากโปรแกรมนี้ไม่อยู่ใน PATH environment ของเชลล์ที่เรารันอยู่)
{{{
$ ./hello.out
}}}


==อ้างอิง==
  # http://asm.sourceforge.net/howto/hello.html
  # http://zahidirfan.blogspot.com/2010/01/two-steps-to-using-assembly-in-linux.html